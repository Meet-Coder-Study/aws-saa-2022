
```
7주차 과제

Quiz 8. 클래식 솔루션 아키텍처 토론 퀴즈 (6문제)
Quiz 9. Amazon S3 퀴즈 (8문제)
Quiz 10. AWS IAM, CLI 및 SDK 퀴즈 (3문제)
Quiz 11. Amazon S3 고급 및 Athena 퀴즈 (18문제)
```

---
<br>
<br>


![1](./img/1.png)

[오답]

 1. 소프트웨어 업데이트를 EBS 에 저장하고 각 AZ에 있는 하나의 마스터에서 데이터 복제 소프트웨어를 사용하여 동기화 -> AZ 가 따로 있다는 말도 없고, 데이터 복제 소프트웨어는 AWS 서비스가 아니다. -> 모든 EBS 에 복제하는건 엄청 무거운 일이다.
 2. 소프트웨어 업데이트를 EBS 스냅샷으로 패키징하고 새 소프트웨어 업데이트마다 EBS 볼륨 생성 -> EBS 볼륨은 인스턴스당 생성되는것. 인스턴스가 100개면 100번 해야한다.
 3. Amazon RDS에 소프트웨어 업데이트 저장 -> RDS 에는 업데이트를 저장하지 못한다.

[정답] 4. 소프트웨어 업데이트를 EFS에 저장하고 시작할 때 EFS를 네트워크 드라이브로 탑재

EFS : eleastic file system

-> EBS 가 인스턴스당 할당되는 것에 반해 EFS 는 여러 인스턴스에 마운트될 수 있다.

 - 서로 다른 인스턴스에서 보안그룹을 통해 네트워크로 연결된다.
 - 최대 1000 개의 Network Client 와 연결가능
 - EBS 보다 비싸고, 사용 용량만큼 지불한다.
 - NFSv4.1 프로토콜을 사용

---
<br>
<br>

![2](./img/2.png)

데이터 암호화
 - 서버측 암호화 : 암호화되지 않은 데이터를 받이서 우리 서버에서 데이터를 암호화.
    1. SSE-S3 : 관리형 키 사용
        - S3 에서 제공하는 AES-256 키를 통해 데이터 암호화
    2. SSE-KMS : KMS 키 사용
        - SSE-S3 와 비슷하지만 더 업그레이드 버젼
        - AWS 관리형 키 or 고객 관리형 키 두 유형으로 생성 가능
        - AWS 관리형 키는 키를 자동으로 생성해주는 이점.
        - 고객 관리형 키는 키의 생성, 교체, 중지를 더 유연하게 가능.
        - KMS key 를 사용하여 객체 데이터를 암호화
        - 객체의 메타데이터는 암호화되지 않음.
    3. SSE-C : 고객이 제공한 키 사용
        - 우리가 만든 키를 사용.
        - 암호화시 키를 제공하면 암호화 후 키를 삭제.
        - 복호화시 키를 제공해야함.
        - 키에 대한 모든 것을 제어할 수 있다.

 - 클라이언트측 암호화 : 데이터가 S3 로 전달될 때의 보안을 보장하기 위해 클라이언트 로컬 환경에서 암호화를 하여 보내는 것.
 S3 가 암호화, 복호화에 관여하지 않음.

---
<br>
<br>

![3](./img/3.png)
`Amazon RDS PostgreSQL로 S3에서 파일 인덱스를 구축` : 많은 파일들의 인덱스를 만들고 있다.  
`인덱스를 작성하려면 S3에 있는 각 객체의 처음 250바이트를 읽어야 하며 각 객체는 파일 자체의 일부 내용에 관한 메타데이터를` : 한 파일의 인덱스를 만드려면 250바이트를 읽어야 한다.  
`50TB의 데이터에 해당하는 100,000개가 넘는 파일` : 어마어마한 양의 파일을 각각 250 바이트씩 읽어야 한다.

[오답]
1. RDS 가져오기 기능 ~ : 모든 데이터를 읽어야 하므로 패스
2. 하나씩 읽고 처음 250바이트 추출 : 안될 것 없는 방법이지만, S3 에는 byte range fetch 기능이 있으므로 정답 아님.
4. S3 select ~ : S3 select 는 key-value 로 이루어진 객체의 메타데이터 (카테고리, 버킷 이름 등등) 을 통해 간단한 쿼리를 날리는 것.