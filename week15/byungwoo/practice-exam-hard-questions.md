# AWS 공인 솔루션스 아키텍트 – 어소시에이트 연습문제 3
## 1.
회사가 도커화 된 애플리케이션 스택을 AWS 클라우드로 이전하는 것을 고려하고 있습니다. 이 회사는 Fargate 시작 유형의 ECS (Elastic Container Service)와 비교하여 EC2 시작 유형의 ECS 사용에 대한 가격을 잘 모릅니다.
이 두 서비스의 가격과 관련하여 다음 중 올바른 것은 무엇입니까?
- EC2 시작 유형의 ECS와 Fargate 시작 유형의 ECS는 컨테이너화된 애플리케이션이 요청하는 vCPU 및 메모리 리소스에 따라 요금이 청구됩니다.
- (선택) EC2 시작 유형의 ECS와 Fargate 시작 유형의 ECS는 모두 사용된 EC2 인스턴스 및 EBS 볼륨에 따라 요금이 부과됩니다.
- EC2 시작 유형의 ECS와 Fargate 시작 유형의 ECS는 시간당 사용되는 Elastic Container Service에 따라 요금이 청구됩니다.
- (정답) EC2 시작 유형의 ECS는 사용된 EC2 인스턴스 및 EBS 볼륨에 따라 요금이 청구됩니다. Fargate 시작 유형의 ECS는 컨테이너화된 애플리케이션이 요청하는 vCPU 및 메모리 리소스에 따라 요금이 청구됩니다.

## 2.
회사에는 SQS 대기열이 있는 스팟 EC2 인스턴스의 Auto Scaling 그룹에서 호스팅되는 분산 배치 처리 애플리케이션이 있습니다. 클라이언트 측 호출을 먼저 버퍼링 한 다음 배치 요청으로 SQS에 보내도록 클라이언트 측 버퍼링을 사용하도록 구성 요소를 구성했습니다.
SQS 대기열이 다른 소비 구성 요소가 메시지를 수신하고 처리하지 못하게 하는 기간은 무엇입니까?
- (선택) Processing Timeout
- (정답) 제한 시간 초과(Visibility Timeout)
- Receiving Timeout
- Component Timeout
```markdown
# Amazon SQS 제한 시간 초과
- 메시지를 수신한 직후에는 메시지가 대기열에 그대로 있습니다.
- 다른 소비자가 메시지를 다시 처리할 수 없도록 하기 위해 Amazon SQS에서는 다른 소비자가 Amazon SQS에서 메시지를 수신 및 처리할 수 없는 기간인 제한 시간 초과를 설정합니다.
- 메시지의 기본 제한 시간은 30초입니다. 최소값은은 0초입니다. 최대는 12시간입니다.
- https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-visibility-timeout.html
```
![img.png](https://lh6.googleusercontent.com/A1XTsWbh1VWBKy-0Y_nxALgycL3khg9d4O-dSAtud3_GdgtA-xQqZVPgWNUCHnp0ti8K5IS16pBTPdzeGtC96xS3R3PuGT1U1bHGfv6TSx6OUo07RP-_8jTLldFcuGcfajt-WdRn)
  

## 3.
애플리케이션은 Application Load Balancer가 앞에 있는 EC2 인스턴스에 배포되고 있으며 최근 인프라가 공격을 받고 있습니다. 공격자는 초당 100건 이상의 요청을 수행하지만 일반 사용자는 초당 약 5건의 요청만 수행합니다.
공격자가 애플리케이션을 공격을 효율적으로 방지할 수 있는 방법은 무엇입니까?
- (정답) 웹 애플리케이션 방화벽을 사용하고 속도 기반 규칙을 설정합니다.
- Application Load Balancer에서 네트워크 ACL (NACL)을 정의합니다.
- Application Load Balancer에서 고정 세션을 구성합니다.
- (선택) AWS Shield Advanced를 사용하고 비율 기반 규칙을 설정합니다.
```markdown
# AWS WAF
- AWS WAF는 가용성에 영향을 주거나, 보안을 위협하거나, 리소스를 과도하게 사용하는 일반적인 웹 공격으로부터 웹 애플리케이션이나 API를 보호하는 데 도움이 되는 웹 애플리케이션 방화벽입니다. 
- 속도 기반 규칙은 AWS WAF에서 구성할 수 있는 새로운 규칙 유형입니다. 이 기능을 사용하면 지속적으로 업데이트되는 후행 5분 기간에 클라이언트 IP에서 허용하는 웹 요청 수를 지정할 수 있습니다. IP 주소가 구성된 한도를 위반하면 요청률이 구성된 임계값 밑으로 내려갈 때까지 새로운 요청이 차단됩니다.
- Rate-based rules (to count occurrences of events) – for DDoS protection

# AWS Shield Advanced
- AWS Shield Standard vs. AWS Shield Advanced
  - Free vs. Charged ($3,000 per month per organization)
  - None vs. 24/7 access to AWS DDoS response team (DRP)
- AWS Shield Advanced는 전체적으로 DDoS 보호 기능을 제공하며 Shield에서는 속도 기반 규칙을 설정할 수 없습니다.
- 비율 기반 규칙은 각 발신 IP 주소에 대한 요청 비율을 추적하고 제한을 초과하는 비율의 IP에 대해 규칙 작업을 트리거합니다. 제한을 5분 시간 범위당 요청 수로 설정합니다. 이 유형의 규칙을 사용하여 과도한 요청을 전송하는 IP 주소의 요청에 임시 차단을 적용할 수 있습니다.
- (번역) 속도 기반 규칙 = 비율 기반 규칙 = Rate-based rules
- (해설) AWS Shield Advanced가 DDoS 공격에 대해서 기술지원을 제공하지만 사용자 정의 비율(rate) 기반으로 규칙을 설정할 수는 없음
```

## 4.
전자상거래 회사의 DevOps팀은 단계적 확장 정책을 사용하여 Auto Scaling 그룹에 속한 특정 EC2 인스턴스에 대해 몇 가지 유지 관리 작업을 수행하려고 합니다. 팀이 유지 보수 패치를 배포할 때마다 인스턴스 상태 점검 상태가 몇 분 동안 서비스 중이 아닌 것으로 표시됩니다. 이로 인해 Auto Scaling 그룹이 다른 대체 인스턴스를 즉시 프로비저닝합니다.
유지보수 작업을 최대한 빨리 완료할 수 있도록 가장 시간, 자원 효율적 작업은 무엇입니까? (2 개 선택)
- Auto Scaling 그룹을 삭제하고 지정된 인스턴스에 유지 관리 픽스를 적용합니다. 새 Auto Scaling 그룹을 생성하고 수동 확장 정책을 사용하여 모든 인스턴스를 다시 추가합니다.
- (정답) Auto Scaling 그룹에 대한 시작 프로세스 유형을 일시 중단하고 인스턴스에 유지 관리 패치를 적용합니다. 인스턴스가 준비되면 시작 프로세스 유형을 다시 활성화할 수 있습니다.
- Auto Scaling 그룹에 대해 종료 프로세스 유형을 일시 중단하고 인스턴스에 유지 관리 패치를 적용합니다. 인스턴스가 준비되면 시작 프로세스 유형을 다시 활성화할 수 있습니다.
- (선택) 인스턴스의 스냅샷을 생성하고 새 AMI를 생성한 다음 이 AMI를 사용하여 새 인스턴스를 시작합니다. 유지 관리 패치를 이 새 인스턴스에 적용한 다음 수동 확장 정책을 사용하여 다시 Auto Scaling 그룹에 추가합니다.
- (선택/정답) 인스턴스를 대기 상태로 전환한 다음 유지 관리 패치를 적용하여 인스턴스를 업데이트합니다. 인스턴스가 준비되면 대기 상태를 종료한 다음 서비스 상태로 되돌릴 수 있습니다.
```markdown
- (해석) 몇 가지 유지 관리 작업 -> AMI를 교체하는 업그레이드보다는 간단한 유지보수/테스트 정도의 작업 같음

# Auto Scaling Group - Standby
- InService 상태의 인스턴스를 Standby 상태로 설정하고, 인스턴스를 업데이트하거나 문제 해결한 다음, 해당 인스턴스를 서비스 상태로 되돌릴 수 있습니다. 대기 상태의 인스턴스는 Auto Scaling 그룹에 여전히 속하나, 애플리케이션 트래픽을 처리하지는 못합니다.
- https://docs.aws.amazon.com/ko_kr/autoscaling/ec2/userguide/as-enter-exit-standby.html

# Auto Scaling Group - suspend & resume
- 사용자가 시작하는 일시 중지 외에, Amazon EC2 Auto Scaling에서도 인스턴스 시작에 반복적으로 실패하는 Auto Scaling 그룹의 프로세스를 일시 중지할 수 있습니다. 이를 관리적 일시 중지라고도 합니다. 관리적 일시 중지는 24시간 이상 인스턴스를 시작하려고 했지만 시작하지 못한 Auto Scaling 그룹에 가장 흔히 적용됩니다. 사용자는 Amazon EC2 Auto Scaling에서 관리상의 이유로 일시 중지한 프로세스를 재개할 수 있습니다.
- https://docs.aws.amazon.com/ko_kr/autoscaling/ec2/userguide/as-suspend-resume-processes.html
```

## 5.
당신은 회사에서 솔루션 아키텍트로 일하고 있습니다. 관리자는 IPv6을 사용하는 ap-northeast-2 리전의 프라이빗 서브넷에 있는 예약 EC2 인스턴스에서 웹서비스를 시작하도록 지시했습니다. 서버에 기밀 데이터에 무단 액세스를 방지하고 규정 준수 요구 사항을 충족하도록 시스템을 보호해야 합니다.
이 시나리오에서 EC2 인스턴스가 인터넷과 통신 할 수 있지만 인바운드 트래픽은 차단할 수있는 VPC 기능은 무엇입니까?
- NAT 게이트웨이
- (선택) 인터넷 게이트웨이
- NAT 인스턴스
- (정답) 외부 전용 인터넷 게이트웨이
```markdown
- 키워드: IPv6

# 외부 전용 인터넷 게이트웨이 (egress-only-internet-gateway)
- Used for IPv6 only
- 수평 확장되고 가용성이 높은 중복 VPC 구성 요소로서, VPC의 인스턴스에서 인터넷으로 IPv6을 통한 아웃바운드 통신을 가능케 하되 인터넷에서 해당 인스턴스와의 IPv6 연결을 시작하지 못하게 할 수 있습니다.
- https://docs.aws.amazon.com/ko_kr/vpc/latest/userguide/egress-only-internet-gateway.html

# NAT 게이트웨이 & NAT 인스턴스
- NAT 게이트웨이 및 NAT 인스턴스는 IPv4에만 적용되고 IPv6에는 적용되지 않으므로 올바르지 않습니다.
- 이러한 두 구성 요소는 프라이빗 서브넷의 EC2 인스턴스가 인터넷에 통신하고 인바운드 트래픽을 방지할 수 있지만 IPv6이 아닌 IPv4 주소를 사용하는 인스턴스로만 제한됩니다.

# 인터넷 게이트웨이 (Internet Gateway, IGW)
- Allows resources (e.g., EC2 instances) in a VPC connect to the Internet
- 주로 프라이빗 서브넷이 아닌 VPC의 퍼블릭 서브넷에 있는 인스턴스에 대한 인터넷 액세스를 제공하는 데 사용됩니다. 그러나 인터넷 게이트웨이를 사용하면 퍼블릭 인터넷에서 시작된 트래픽도 사용자의 인스턴스에 연결할 수 있습니다. 인바운드 액세스를 차단하라는 시나리오이므로 정답이 아닙니다.
- https://docs.aws.amazon.com/ko_kr/vpc/latest/userguide/VPC_Internet_Gateway.html
```

## 6.
당신은 고객에게 SEO 분석을 자동으로 제공하는 회사의 IT 컨설턴트입니다. 귀사는 AWS에 IPv4 및 IPv6 통신이 허용되는 이중 스택 모드로 작동하는 VPC를 보유하고 있습니다. 들어오는 트래픽을 균등하게 분배하는 Application Load Balancer가 앞에 있는 EC2 인스턴스의 Auto Scaling 그룹에 애플리케이션을 배포했습니다. 라이브로 전환할 준비가 되었지만 도메인 이름이 Application Load Balancer를 가리켜야 합니다.
Route 53에서 애플리케이션 로드 밸런서의 DNS 이름을 가리키는 데 사용할 레코드 유형은 무엇입니까? (2개 선택)
- (선택/정답) AAAA 타입 별칭 레코드
- CNAME 타입 별칭 레코드
- MX 타입 별칭 레코드
- A 타입 비별칭 레코드
- (정답) A 타입 별칭 레코드
```markdown
- 키워드: IPv4 및 IPv6 통신이 허용되는 이중 스택 모드
# Route 53 – RecordTypes
• A – maps a hostname to IPv4
• AAAA – maps a hostname to IPv6

# Route 53 – CNAME vs. Alias
- Alias: Maps a hostname to an AWS resource
- CNAME: Points a hostname to any other hostname
```

## 7.
금융 회사가 Windows 파일 서버 클러스터를 데이터 센터 밖으로 이동하려고 합니다. 회사는 완전한 Windows 호환성을 제공하는 클라우드 파일 스토리지 제품을 찾고 있습니다.
Windows 시스템과 호환되는 업계 표준 SMB(Server Message Block) 프로토콜을 통해 액세스할 수 있는 매우 안정적인 파일 스토리지를 제공하는 AWS 스토리지 서비스는 무엇입니까? (2개 선택)
- Amazon S3
- Elastic File System
- AWS Storage Gateway의 파일 게이트웨이
- Amazon FSx for Windows File Server
- Elastic Block Storage

## 8.
회사에서는 프로덕션 환경을 AWS로 마이그레이션하려고 합니다. 관리자가 IAM (Identity Access Management)을 사용하여 AWS 콘솔에 대한 액세스를 설정하도록 요청했습니다. AWS CLI를 사용하여 시스템 관리자를 위한 5명의 사용자를 생성했습니다.
시스템 관리자가 AWS 콘솔에 액세스하려면 어떤 추가 단계를 수행해야 합니까?
- 시스템 관리자에게 비밀 액세스 키 및 액세스 키 ID를 제공합니다.
- 계정에서 다단계 인증 사용 및 비밀번호 정책 정의합니다.
- 보안 그룹에 관리자 추가합니다.
- 작성된 각 사용자의 비밀번호를 제공하고 시스템 관리자에게 이 비밀번호를 제공합니다.

## 9.
회사가 웹사이트를 호스팅하기 위해 Fargate 시작 유형을 사용하는 Amazon ECS 클러스터를 가지고 있습니다. 엄격한 보안 준수를 준수하려면 환경 변수를 사용하여 데이터베이스 자격 증명을 제공해야 합니다. 솔루션 아키텍트로서 정보가 안전하고 클러스터 자체에서 일반 텍스트로 볼 수 없도록 해야 합니다.
다음 중 최소한의 노력으로 구현할 수 있는 가장 적합한 솔루션은 무엇입니까?
- AWS Secrets Manager를 사용하여 데이터베이스 자격 증명을 저장한 다음 AWS KMS를 사용하여 이를 암호화합니다. Amazon ECS 작업 실행 역할 (taskRoleArn)에 대한 리소스 기반 정책을 생성하고 KMS와 AWS Secrets Manager에 모두 액세스할 수 있는 작업 정의를 참조합니다. 컨테이너 정의 내에서 컨테이너에 설정할 환경 변수 이름과 민감한 데이터가 포함된 Secrets Manager 시크릿의 전체 ARN을 사용하여 시크릿을 컨테이너에 표시합니다.
- AWS 시스템 관리자 파라미터 스토어를 사용하여 데이터베이스 자격 증명을 유지한 다음 AWS KMS를 사용하여 이를 암호화합니다. Amazon ECS 작업 실행 역할 (taskRoleArn)에 대한 IAM 역할을 생성하고 이를 작업 정의에서 참조하면 KMS와 파라미터 스토어에 모두 액세스 할 수 있습니다. 컨테이너 정의 내에서 컨테이너에 설정할 환경 변수 이름과 컨테이너에 제공할 민감한 데이터가 포함된 시스템 관리자 파라미터 스토어 매개 변수의 전체 ARN을 사용하여 비밀을 지정합니다.
- ECS 클러스터의 ECS 작업 정의 파일에서 Docker Secrets를 사용하여 데이터베이스 신임 정보를 저장하여 이러한 민감한 데이터를 중앙에서 관리하고 액세스해야 하는 컨테이너에만 안전하게 전송합니다. 비밀은 운송 중 및 휴지 상태에서 암호화됩니다. 지정된 비밀은 IAM 역할을 통해 명시적으로 액세스 권한이 부여된 서비스 및 해당 서비스 작업이 실행되는 동안에만 액세스 할 수 있습니다.
- ECS 클러스터의 ECS 작업 정의 파일에 데이터베이스 자격 증명을 저장하고 KMS로 암호화합니다. 작업 정의 JSON 파일을 개인 S3 버킷에 저장하고 버킷에서 HTTPS가 활성화되어 비행 중 데이터를 암호화해야 합니다. 특정 S3 버킷에 액세스할 수 있는 ECS 작업 정의 스크립트에 대한 IAM 역할을 생성한 다음 ECS register-task-definition을 호출 할 때 --cli-input-json 매개 변수를 전달합니다. 데이터베이스 자격 증명이 포함된 S3 버킷의 작업 정의 JSON 파일을 참조합니다.

## 10.
애플리케이션은 여러 EBS 볼륨이 연결된 EC2 인스턴스에서 호스팅되며 Amazon RDS를 데이터베이스로 사용합니다. 데이터 보안을 향상시키기 위해 인스턴스에 연결된 모든 EBS 볼륨을 암호화하여 볼륨에 저장된 기밀 데이터를 보호합니다.
다음 중 암호화된 Amazon Elastic Block Store 볼륨에 해당하는 것은 무엇입니까? (2개 선택)
- (정답) 볼륨과 인스턴스간에 이동하는 모든 데이터가 암호화됩니다.
- (선택) 볼륨의 데이터만 암호화되며 볼륨과 인스턴스간에 이동하는 모든 데이터는 아닙니다.
- (정답) 스냅샷은 자동으로 암호화됩니다.
- 암호화 된 스냅샷에서 생성 된 볼륨은 암호화되지 않습니다.
- (선택) 스냅샷은 자동으로 암호화되지 않습니다.
```markdown
EBS 암호화 작업은 EC2 인스턴스를 호스팅하는 서버에서 진행되며, 인스턴스와 인스턴스에 연결된 EBS 스토리지 간 유휴 데이터 및 전송 중 데이터의 보안을 모두 보장합니다.

EC2 인스턴스의 부팅 및 데이터 볼륨을 모두 암호화할 수 있습니다. 암호화된 EBS 볼륨을 만들고 지원되는 인스턴스 유형에 이 볼륨을 연결하면 다음 유형의 데이터가 암호화됩니다.
• 볼륨 내부에 있는 데이터
• 볼륨과 인스턴스 사이에서 이동하는 모든 데이터
• 볼륨에서 생성된 모든 스냅샷
• 해당 스냅샷에서 생성된 모든 볼륨
```

## 11.
당신은 AWS로 마이그레이션해야 하는 날씨 모니터링 시스템을 갖춘 회사에서 근무하고 있습니다. 모니터링 시스템에 네트워크 지연 시간이 짧고 네트워크 처리량이 높아야 하므로 EC2 인스턴스를 새 클러스터 배치 그룹으로 시작하기로 결정했습니다. 시스템이 몇 주 동안 정상적으로 작동했지만 이미 실행 중인 EC2 인스턴스가 있는 배치 그룹에 새 인스턴스를 추가하려고 하면 '용량 부족 오류'가 발생합니다.
이 문제를 어떻게 해결해야 합니까?
- 처음에 배치 그룹당 12개의 인스턴스로 제한되므로 용량 증가 요청을 AWS에 제출합니다.
- (정답) 배치 그룹에서 인스턴스를 중지했다가 다시 시작한 후 다시 시작합니다.
- (선택) 다른 배치 그룹을 만들고 새 그룹에서 새 인스턴스를 시작합니다.
- 실행중인 모든 인스턴스의 크기와 유형이 동일한 지 확인한 후 시작을 다시 시도합니다.
```markdown
# Placements Groups
• 워크로드의 유형에 따라 다음 배치 전략 중 하나를 사용하여 배치 그룹을 생성할 수 있습니다.
• 클러스터 – 인스턴스를 가용 영역 안에 서로 근접하게 패킹합니다. 이 전략은 워크로드가 HPC 애플리케이션에서 일반적인 긴밀히 결합된 노드 간 통신에 필요한 낮은 지연 시간의 네트워크 성능을 달성할 수 있습니다.
• 파티션 – 인스턴스를 논리적 파티션에 분산해, 한 파티션에 있는 인스턴스 그룹이 다른 파티션의 인스턴스 그룹과 기본 하드웨어를 공유하지 않게 합니다. 이 전략은 일반적으로 Hadoop, Cassandra, Kafka 등 대규모의 분산 및 복제된 워크로드에 필요합니다.
• 분산 – 소규모의 인스턴스 그룹을 다른 기본 하드웨어로 분산하여 상호 관련 오류를 줄입니다.

- 이미 실행 중인 인스턴스가 있는 배치 그룹에서 인스턴스를 시작할 때 용량 오류가 발생하면 배치 그룹의 모든 인스턴스를 중지했다가 시작한 후 다시 시작하십시오. 인스턴스를 다시 시작하면 요청된 모든 인스턴스에 대한 용량이 있는 하드웨어로 인스턴스를 마이그레이션 할 수 있습니다.
- 배치 그룹에서 인스턴스를 중지했다가 다시 시작한 다음 다시 시작을 시도하는 옵션은 다시 시작하면 이 문제를 해결할 수 있으므로 올바른 옵션입니다. 인스턴스가 중지되었다가 다시 시작되면 AWS는 요청 된 모든 인스턴스에 대한 용량이 있는 하드웨어로 인스턴스를 옮길 수 있습니다.
```

## 12.
Amazon EC2에서는 인스턴스를 시작한 순간부터 종료될 때까지 인스턴스를 관리 할 수 있습니다. EC2 인스턴스 상태를 변경하여 컴퓨팅 비용을 유연하게 제어 할 수 있습니다.
EC2 청구와 관련하여 다음 중 사실은 무엇입니까? (2개 선택)
- (선택/정답) 온디맨드 인스턴스가 stopping 상태로 최대 절전 모드로 전환 준비할 때 요금이 청구됩니다.
- (정답) 예약 인스턴스가 terminated 상태인 경우 요금이 청구됩니다.
- 인스턴스가 running 상태가 아닌 동안에는 인스턴스 사용량에 대한 요금이 청구되지 않습니다.
- (선택) 스팟 인스턴스가 stopping 상태로 중지할 준비 중인 경우 요금이 청구됩니다.
- 온디맨드 인스턴스가 pending 상태인 경우 요금이 청구됩니다.
```markdown
# 인스턴스 상태
- pending : 인스턴스는 running 상태로 될 준비를 하고 있습니다. 인스턴스를 처음 시작하거나 stopped 상태의 인스턴스를 다시 시작하면 pending 상태가 됩니다. (인스턴스 사용 요금 : 미청구)
- running : 인스턴스를 실행하고 사용할 준비가 되었습니다. (인스턴스 사용 요금 : 청구)
- stopping : 인스턴스가 중지 또는 중지-최대 절전 모드로 전환할 준비를 하고 있습니다. (인스턴스 사용 요금 : 중지 준비 중인 경우 미청구, 최대 절전 모드로 전환 준비 중인 경우 청구)
- stopped : 인스턴스가 종료되고 사용이 불가합니다. 언제든지 인스턴스를 다시 시작할 수 있습니다. (인스턴스 사용 요금 : 미청구)
- shutting-down : 인스턴스가 종료할 준비를 하고 있습니다. (인스턴스 사용 요금 : 미청구)
- terminated : 인스턴스가 영구적으로 삭제되었으며 시작할 수 없습니다. (인스턴스 사용 요금 : 미청구, 단, 종료된 인스턴스에 적용되는 예약 인스턴스는 결제 옵션에 따라 기간이 종료될 때까지 요금이 청구됩니다. )
```
![img.png](https://lh5.googleusercontent.com/ftc7ck15bEt2USP1thUW5_bxnnRgQTrhTKqP1urTb6QW9Gf8XC6dtPTg32Sag-fe_NvU7mCwsKrP5eWDx0YhR6BL6y2T24cYhluhCdx0uWdKEEfSML2kVVdy-ZuTnTWilrKN9DRZ)

## 13.
데이터 분석 회사에서 애플리케이션 워크플로우의 다양한 프로세스를 분리하기 위해 SQS 대기열을 사용하고 있습니다. 회사는 대기열에 특정 메시지 배달을 1분 연기하고 다른 모든 메시지는 대기열에 즉시 배달해야 합니다.
회사에 제안할 솔루션은 다음 중 무엇입니까?
- 제한 시간 초과를 사용하여 특정 메시지를 대기열에 1분 전달하는 것을 연기합니다.
- (선택) 지연 대기열을 사용하여 특정 메시지를 대기열에 전달하는 것을 1분 연기합니다.
- 배달 못한 편지 대기열을 사용하여 대기열에 특정 메시지 전달을 1분 연기합니다.
- (정답) 메시지 타이머를 사용하여 대기열에 대한 특정 메시지 배달을 1분 연기합니다.
```markdown
# SQS 타이머 (메세지 단위)
- 메시지 타이머를 사용하여 대기열에 추가되는 메시지의 초기 미표시 기간을 지정합니다. 예를 들어, 45초 타이머를 사용하여 메시지를 전송할 경우에 이 메시지가 대기열에 머무르는 처음 45초 동안 소비자에게 표시되지 않습니다. 메시지의 기본(최소) 지연 시간은 0초입니다. 최대값은 15분입니다.
- FIFO 대기열에서는 개별 메시지에 대한 타이머를 지원하지 않습니다.
- 개별 메시지가 아니라 전체 대기열에 지연을 설정하려면 지연 대기열을 사용하십시오.
- https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-message-timers.html

# 오답
“배달 못한 편지 대기열을 사용하여 대기열에 특정 메시지 전달을 1분 연기합니다.”
- 배달 못한 편지 대기열은 다른 대기열에서 성공적으로 처리할 수 없는 메시지의 대상으로 사용할 수 있습니다. 배달 못한 편지 대기열은 문제가 있는 메시지를 분리하여 처리되지 않는 이유를 확인할 수 있기 때문에 애플리케이션 또는 메시징 시스템을 디버깅하는 데 유용합니다. 배달 못한 편지 대기열을 사용하여 특정 메시지 배달 시간을 1분 연기할 수 없습니다.
- dead-letter queues
- https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-dead-letter-queues.html

“제한 시간 초과를 사용하여 특정 메시지를 대기열에 1분 전달하는 것을 연기합니다.”
- 제한 시간 초과는 Amazon SQS가 다른 소비자가 지정된 메시지를 수신하고 처리할 수 없도록 하는 기간입니다. 메시지의 기본 제한 시간은 30초입니다. 최소값은 0초입니다. 최대 시간은 12시간입니다. 제한 시간 초과를 사용하여 대기열에 대한 특정 메시지 배달을 1분 연기할 수 없습니다.
- visibility timeout
- https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-visibility-timeout.html

“지연 대기열을 사용하여 특정 메시지를 대기열에 전달하는 것을 1분 연기합니다.” (대기열 단위)
- 지연 대기열을 사용하면 소비자 애플리케이션에서 메시지를 처리하는 데 추가 시간이 필요한 경우와 같이 대기열에 대한 모든 새 메시지 배달을 몇 초간 연기할 수 있습니다. 지연 대기열을 만들 경우 대기열로 보내는 메시지는 지연 기간 동안 소비자가 볼 수 없는 상태로 유지됩니다. 큐의 기본(최소) 지연은 0초입니다. 최대 시간은 15분입니다. 지연 대기열을 사용하여 특정 메시지만 대기열에 배달되도록 1분 연기할 수 없습니다.
- delay queues
- https://docs.aws.amazon.com/ko_kr/AWSSimpleQueueService/latest/SQSDeveloperGuide/sqs-delay-queues.html
```

## 14.
당신은 회사에서 AWS에서 업무시스템을 시스템 중단 없이 새 버전으로 원활하게 업그레이드하는 것이 과제입니다.
다음 중 내부 업그레이드 전략과 비교하여 Blue/Green 배포를 사용할 경우의 이점이 아닌 옵션은 무엇입니까? (2개 선택)
- CodeCommit 및 CodeBuild와 함께 Blue/Green 배포를 사용하여 새 버전의 애플리케이션을 자동으로 배포 할 수 있습니다.
- Blue/Green 배포는 전체 업그레이드보다 비용 효율적입니다. 추가 AWS 리소스가 있는 새로운 환경을 시작할 필요가 없습니다.
- Green환경 문제 감지 및 트래픽이 다시 Blue 환경으로 이동하는 시간 간격에 영향을 미치기 때문에 운영 또는 다운타임이 최소화됩니다.
- Blue/Green 배포는 Blue와 Green 애플리케이션 환경 간에 격리 수준을 제공하여 배포 위험을 줄입니다. Blue 환경은 프로덕션 트래픽을 지원하는 현재 애플리케이션 버전을 나타내며 Green 버전이 애플리케이션의 다른 버전 또는 업그레이드 버전을 실행하는 동안 준비됩니다.
- 배포 프로세스 중에 시스템 장애가 발생할 경우 언제든지 들어오는 트래픽을 현재 작업 환경으로 롤백할 수 있습니다.

## 15.
디지털 광고 솔루션 회사는 Amazon RDS에서 Oracle 및 PostgreSQL 서비스를 실행하는 데 상당한 투자를하고 있습니다. 비즈니스 분석 팀은 이러한 데이터베이스에 대한 임시 질의를 실행하여 고위 관리를 위한 일일 보고서를 준비했습니다. 엔지니어링팀은 분석 팀에서 이러한 보고서를 실행할 때마다 데이터베이스 성능이 저하되는 것을 확인했습니다. 이제 엔지니어링팀은 비즈니스 분석 보고를 용이하게 하기 위해 이 데이터를 고가용성으로 복제하고 데이터를 Amazon Redshift로 스트리밍하여 이러한 데이터베이스를 페타바이트 규모의 데이터 웨어하우스로 통합하려고 합니다.
기본 인프라를 관리할 필요 없이 최소의 개발 시간을 필요로 하는 리소스 효율적인 솔루션으로 권장하고 싶은 것은 다음 중 무엇입니까?
- AWS Glue를 사용하여 데이터베이스의 데이터를 Amazon Redshift로 복제합니다.
- AWS Database Migration Service를 사용하여 데이터베이스의 데이터를 Amazon Redshift로 복제합니다.
- AWS EMR을 사용하여 데이터베이스의 데이터를 Amazon Redshift로 복제합니다.
- Amazon Kinesis Data Streams를 사용하여 데이터베이스의 데이터를 Amazon Redshift로 복제합니다.

## 16.
회사는 정기적으로 전 세계 각 대륙의 리전 데이터 센터에서 중앙 집중식 S3 버킷에 기가바이트에서 테라바이트까지의 데이터를 업로드하는 직원과 고객이 있습니다. 연말에 수천 개의 데이터가 ap-northeast-2(서울) 리전에 있는 중앙 S3 버킷에 업로드되고 있으며 업로드 시간이 느려서 많은 직원들이 불만을 제기하기 시작했습니다. 당신은 관리자로로부터 보고서 처리가 지연되지 않도록 가능한 한 빨리 이 문제를 해결하라는 지시를 받았습니다.
고객과 Amazon S3 버킷 간에 장거리를 통해 파일을 빠르고 쉽고 안전하게 전송할 수 있는 기능은 무엇입니까?
- 멀티 파트 업로드
- 교차 리전 복제
- AWS Global Accelerator
- Transfer Acceleration

## 17.
회사는 사용자가 자체 관리 설문지를 통해 바이러스 증상에 대한 위험 평가 조사를 완료할 수 있도록 새로운 웹 애플리케이션을 만들었습니다. 회사는 Route 53을 사용하여 도메인 virus-survey.com을 구입했습니다. 웹 개발 팀은 virus-survey.com의 모든 트래픽이 www.virus-survey.com으로 라우팅되도록 Route 53 레코드를 생성하려고합니다.
웹 개발 팀에 추천할 가장 비용 효율적인 솔루션은 다음 중 무엇입니까?
- 트래픽을 www.virus-survey.com으로 라우팅하는 virus-survey.com에 대한 별칭 레코드를 작성합니다.
- 트래픽을 www.virus-survey.com으로 라우팅하는 virus-survey.com에 대한 MX 레코드를 작성합니다.
- 트래픽을 www.virus-survey.com으로 라우팅하는 virus-survey.com에 대한 NS 레코드를 만듭니다.
- 트래픽을 www.virus-survey.com으로 라우팅하는 virus-survey.com에 대한 CNAME 레코드를 작성합니다.

## 18.
회사에서는 Amazon S3를 사용하여 복제할 수 없는 문서를 저장하고 있습니다. 분기별 보고의 경우 3개월 후에 파일을 검색해야 하며 돌발 감사가 실시되는 경우 보관 된 데이터를 즉시 제시 해야 합니다.
비용 효율적인 방법으로 이 요구사항을 충족할 수 있는 S3 스토리지 클래스는 무엇입니까?
- Amazon S3 Standard - Infrequent Access
- Amazon S3 -Intelligent Tiering
- Amazon S3 glacier
- Amazon S3 Standard

## 19.
금융 이벤트를 사용자에게 알릴 수 있는 모바일 앱을 구축하고 있습니다. 모바일 앱은 제공자의 SDK 및 Amazon Cognito를 사용하여 자격 증명 제공자 (IdP)로 인증합니다. 최종 사용자가 IdP로 인증 되면 IdP에서 반환된 OAuth 또는 OpenID Connect 토큰이 앱에서 Amazon Cognito로 전달됩니다.
사용자가 임시 제한된 권한 AWS 자격 증명 세트를 제공하기 위해 다음 중 어떤 것이 반환 됩니까?
- Cognito API
- Cognito SDK
- Cognito 키페어
- Congito ID

## 20.
회사에는 개발팀이 있으며, AWS 관리형 정책을 계정에 연결하여 빠르게 테스트할 수 있도록 보장하려고 합니다. 그러나 사용자에게 AdministratorAccess 관리 정책을 부여하여 권한 상승은 방지하려고 합니다.
어떻게 진행해야 할까요?
- 개발자를 IAM 그룹에 넣은 다음 그룹에 IAM 권한 경계를 정의하여 자신에게 연결할 수 있는 관리형 정책을 제한합니다.
- 개발자에게 IAM 정책을 연결하면 관리자 액세스 정책이 연결되지 않습니다.
- AWS 계정에서 개발자가 관리자 액세스 정책을 첨부하지 못하도록 제한하는 서비스 제어 정책 (SCP)을 생성합니다.
- 각 개발자마다 자신에게 연결할 수 있는 관리형 정책을 제한하는 IAM 권한 경계를 정의합니다.

## 21.
온라인 거래 회사는 Auto Scaling 그룹의 EC2 인스턴스에서 웹 애플리케이션을 실행하고 다운 스트림 처리를 위해 SQS 대기열에서 소비자 주문을 처리하도록 구성되어 있습니다. DevOps팀은 주문이 갑자기 급증하면 애플리케이션의 성능이 저하되는 것을 관찰했습니다.
다음 중 어떤 솔루션을 사용하여 이 문제를 해결 하시겠습니까?
- 사용자 지정 Amazon SQS 대기열 지표를 기반으로 단계 조정 정책을 사용합니다.
- 사용자 지정 Amazon SQS 대기열 지표를 기반으로 간단한 조정 정책을 사용합니다.
- 사용자 지정 Amazon SQS 대기열 지표를 기반으로 예약 된 조정 정책을 사용합니다.
- 사용자 지정 Amazon SQS 대기열 지표를 기반으로 대상 추적 조정 정책을 사용합니다.

## 22.
당신은 탄력적 IP (EIP) 주소를 사용하여 공개적으로 액세스 가능한 EC2 인스턴스를 생성하고 해당 EIP를 사용하는 데 드는 비용에 대한 보고서를 제공하도록 지시를 받습니다.
다음 중 EIP의 가격과 관련하여 올바른 것은 무엇입니까?
- 인스턴스가 중지되고 연관된 EIP가 하나만 있으면 비용이 없습니다.
- 인스턴스가 종료되고 연관된 EIP가 하나만 있으면 비용이 없습니다.
- 인스턴스가 실행 중이고 연관된 EIP가 하나만 있으면 비용이 없습니다.
- 인스턴스가 실행 중이고 둘 이상의 연관된 EIP가있는 경우 비용이 없습니다.

## 23.
글로벌 재무 데이터를 매 분마다 자주 처리하고 저장하는 거래 플랫폼은 온프레미스 데이터 센터에서 호스팅되며 Oracle 데이터베이스를 사용합니다. 최근 데이터 센터의 냉각 문제로 인해 이 회사는 애플리케이션 성능을 향상시키기 위해 AWS로 인프라를 긴급히 마이그레이션해야 합니다. 솔루션 아키텍트는 데이터베이스를 올바르게 마이그레이션하고 향후 데이터베이스 서버에 장애가 발생할 경우에도 사용 가능한 상태로 유지해야 하는 책임이 있습니다.
다음 중 요구 사항을 충족하기에 가장 적합한 솔루션은 무엇입니까?
- AWS Schema Conversion Tool 및 AWS Database Migration Service를 사용하여 데이터베이스 스키마를 변환하여 Oracle 데이터를 Amazon Aurora로 마이그레이션합니다.
- Multi-AZ 배포를 사용하여 RDS에 Oracle 데이터베이스를 생성합니다.
- RMAN (Recovery Manager)이 활성화 된 RDS에서 Oracle 데이터베이스 인스턴스를 시작합니다.
- RDS에서 Oracle RAC(Real Application Cluster)를 시작합니다.

## 24.
회사의 관리팀은 직원 급여, 세무 감사 및 규정 준수 준수 여부에 대한 여러 보고서를 생성합니다. EC2 인스턴스의 여러 컴퓨팅 집약적인 워크로드는 매월 마지막 날에 지정된 시간에 실행되며, 관리팀은 이 시간 동안 심각한 성능 저하 추세를 감지했습니다. 엔지니어링팀은 이러한 EC2 인스턴스에 대해 Auto Scaling 그룹을 사용하고 이 사용량이 가장 많은 시간 동안 10개의 EC2 인스턴스를 사용할 수 있도록 함으로써 해결책을 파악했습니다. 정상 작동의 경우 워크로드를 처리하기에 충분한 EC2 인스턴스만 2개입니다.
다음 중 솔루션을 구현하는 데 권장되는 단계는 무엇입니까?
- 간단한 추적 정책을 만들고 지정된 시간에 인스턴스 수를 10으로 설정하여 Auto Scaling 그룹을 구성하십시오. 이로 인해 지정된 시간에 최대 트래픽이 시작되기 전에 확장이 발생합니다.
- 매월 마지막 날 지정된 시간에 시작되는 예약 된 작업을 생성하여 Auto Scaling 그룹을 구성하십시오. 최소 인스턴스 수와 최대 인스턴스 수를 10으로 설정합니다. 이렇게 하면 지정된 시간에 최대 트래픽이 시작되기 전에 스케일 아웃이 발생합니다.
- 매월 마지막 날 지정된 시간에 시작되는 예약 된 작업을 생성하여 Auto Scaling 그룹을 구성하십시오. 원하는 인스턴스 용량을 10으로 설정합니다. 이로 인해 지정된 시간에 최대 트래픽이 시작되기 전에 스케일 아웃이 발생합니다.
- 대상 추적 정책을 생성하고 지정된 시간에 인스턴스 수를 10으로 설정하여 Auto Scaling 그룹을 구성하십시오. 이로 인해 지정된 시간에 최대 트래픽이 시작되기 전에 확장이 발생합니다.

## 25.
온라인 거래 회사의 한국에 있는 소싱 팀은 신제품 카탈로그의 스프레드시트를 준비하고 있습니다. 스프레드시트는 ap-northeast-2 리전에서 생성된 EFS 파일 시스템에 저장됩니다. 미국 및 유럽 등 다른 AWS 리전의 소싱 팀 팀 관계자들도 이 스프레드시트에서 공동 작업을 하고 싶어 합니다.
최소의 운영 오버헤드와 이러한 협업을 지원하기 위한 권장 사항은 무엇입니까?
- 스프레드 시트 데이터는 RDS MySQL 데이터베이스로 이동 한 다음 모든 AWS 리전에서 액세스 할 수 있습니다.
- EFS는 리전 서비스이므로 다른 AWS 리전에서 액세스 할 수 없으므로 스프레드 시트를 다른 AWS 리전의 EFS 파일 시스템으로 복사해야 합니다.
- 스프레드 시트는 Amazon S3로 복사 한 다음 모든 AWS 리전에서 액세스 할 수 있습니다.
- EFS 파일 시스템의 스프레드 시트는 리전 간 VPC 피어링 연결을 사용하여 다른 AWS 리전에서 실행중인 EC2 인스턴스에서 액세스 할 수 있습니다.

## 26.
웹 애플리케이션은 Application Load Balancer 앞에 있는 여러 가용 영역에 배포된 EC2 인스턴스의 Auto Scaling 그룹에서 호스팅됩니다. 시스템의 보안을 향상 시키려면 시스템에 SSL 솔루션을 구현해야 하므로 타사 인증 기관 (CA)에서 SSL/TLS 인증서를 요청했습니다.
애플리케이션의 SSL/TLS 인증서를 안전하게 가져올 수 있는 위치는 어디입니까? (2 개 선택)
- IAM 인증서 스토어
- 고객 제공 암호화 키 (SSE-C)를 사용하여 서버 측 암호화로 구성된 S3 버킷
- 버전 관리가 활성화 된 프라이빗 S3 버킷
- AWS Certificate Manager
- CloudFront

## 27.
당신은 AWS 컨설턴트로 대학에서 일하고 있습니다. 또한 학생 및 직원 기록이 손실되는 엄청난 운영 중단 사태를 겪은 후 미션 크리티컬 애플리케이션에 대한 AWS에서 재해 복구 전략을 수립하고자 합니다. 그들은 이런 일이 다시는 일어나지 않기를 바라지만 동시에 월별 비용을 최소화하기를 원합니다. 그리고 운영 중단이 발생할 경우 항상 사용할 수 있는 최소 버전의 응용 프로그램을 설정하라는 지시를 받습니다. DR 사이트는 AWS에서 시스템의 가장 중요한 핵심 요소만 실행하여 비용을 절감해야 하며, 시스템 중단 시 전체 프로덕션 환경으로 신속하게 업그레이드할 수 있습니다.
다음 중 이 시나리오에서 가장 비용 효율적인 유형의 재해 복구 아키텍처는 무엇입니까?
- Warm Standby
- 멀티 사이트
- 백업 및 복원
- Pilot Light

## 28.
애플리케이션은 다중 AZ 배포 구성에서 EC2 인스턴스의 Auto Scaling 그룹, Application Load Balancer 및 MySQL RDS 인스턴스로 구성됩니다. 고객의 기밀 데이터를 보호하려면 인증 토큰을 통해 EC2 인스턴스와 관련된 프로필 자격 증명을 사용해야만 RDS 데이터베이스에 액세스 할 수 있어야 합니다.
위의 요구 사항을 충족하기 위해 다음 중 어떤 작업을 수행해야 합니까?
- IAM DB 인증을 활성화합니다.
- IAM 역할을 생성하고이를 EC2 인스턴스에 할당하면 RDS 인스턴스에 독점적으로 액세스 할 수 있습니다
- RDS에 대한 데이터베이스 연결을 암호화 하도록 애플리케이션에서 SSL 구성합니다.
- IAM과 STS의 조합을 사용하여 임시 토큰을 통해 RDS 인스턴스에 대한 액세스를 제한합니다.

