# 01_1. 퀴즈

```
1. EC2 인스턴스를r4.large에서 r4.4xlarge로 스케일링하는 것을 ..이라 합니다.

정답) 수직 스케일링성
풀이) CPU의 용량을 키우는 것은 수직적 확장성
```

```
2. EC2 인스턴스 수를 스케일링 및 축소하는 오토 스케일링 그룹 (ASG)에서 애플리케이션을 실행하는 것을 ..라고 합니다.

정답) 수평 스케일링성
풀이) 인스턴스의 갯수를 확장하는 것은 수평적 확장성
```

```
3. Elastic Load Balancer는 ..을 제공합니다

정답) 애플리케이션에서 사용할 수 있는 정적 DNS 이름
풀이) AWS는 정적 endpoint를 사용해 로드 밸런서 액세스
```

```
4. 여러분은 ELB 하나에 EC2 인스턴스 10개로 웹 사이트를 실행 중 입니다. 
한 개의 EC2 인스턴스가 있는 개발 환경과 컴퓨터에서 웹페이지는 정상적으로 작동하기 때문에 여러분은 혼란에 빠졌습니다. 이 현상의 발생 이유는 무엇일까요?

정답) ELB에 Stickey Session이 활성화되어 있지 않습니다.
풀이) 클라이언트의 세션 데이터를 쿠기에 저장해 stickey session이 활성화 되어 있다면 항상 같은 인스턴스로 접속이 가능함.
```

```
5. 여러분은 ALB를 사용하여 EC2 인스턴스에서 호스팅되는 웹 사이트의 트래픽을 분산하고 있고 
웹 사이트는 실제로 ALB의 IP 주소인 프라이빗 IPv4 주소에서 오는 트래픽만 인식하는 것으로 나타났습니다. 
이때 웹사이트에 연결된 클라이언트의 IP 주소를 얻으려면 어떻게 해야 할까요?

정답) X-Forwarded-For 페어데엇 클라언트 IP 주소를 가져오도록 웹사이트의 백엔드를 수정합니다.
풀이) 찍었는데 맞음.. 보기들이 이상한듯,,?
```

```
6. 여러분은 ELB 하나와 EC2 인스턴스 집합으로 애플리케이션을 호스팅하였습니다. 
일주일 후, 유저들은 애플리케이션이 간헐적으로 작동을 멈춘다고 컴플레인을 하기 시작합니다. 
조사 결과, 일부 EC2 인스턴스가 때때로 충돌하는 것을 발견했습니다. 
이때 사용자가 충돌하는 EC2 인스턴스에 연결하지 못하도록 보호하려면 어떻게 해야 할까요?

정답) ELB Health Checks 활성화
풀이) EC2의 상태를 확인할 수 있게 해 비정상 EC2에는 트래픽을 못 보내게 막음.
```

```
7. 여러분은 솔루션 아키텍트로써 초당 수백만 건의 요청을 수신할 
고성능, 저지연 시간 애플리케이션을 위한 아키텍처를 설계하려 합니다. 
이때 어떤 유형의 ELB를 선택해야 할까요?

정답) NLB
풀이) 요금이 부과된다고 알고 있는데 그러면 성능이 가장 빠를것이기 때문!.
```

```
8. Application Load Balancer (ALB)가 지원하는 프로토콜이 아닌것은?

정답) TCP
풀이) TCP는 가장 빠르기 때문에 요금이 부과되는 NLB에서만 지원하는것이 아닐까,,,
```

```
9. ALB는 일정 기준에 따라 트래픽을 다른 대상 그룹으로 라우팅할 수 있습니다. 
이 기준에 해당하지 않는 것은?

정답) 고객의 위치
풀이) 호스트 이름, 요청 URL, 소스 IP-주소는 AWS에서 일반적으로 지원할 것 같은데 고객의 위치는 영,,, 찍었는데 맞았슴돠.
```

```
10. 다음 중 ALB의 대상 그룹에 등록된 대상이 아닌 것은?

정답) 고객의 위치
풀이) 호스트 이름, 요청 URL, 소스 IP-주소는 일반적으로 지원해야 될거 같은데 고객의 위치는 영,,, 찍었슴돠,,
```

```
10. 다음 중 ALB의 대상 그룹에 등록된 대상이 아닌 것은?

틀린 정답) 비공개 IP 주소
틀린 풀이) 보기에서 NLB가 나왔길래 이중 로드벨런싱? 도 되는 건가 해서 비공개 IP 주소로 찍었는데 NLB가 정답이였음.

	찐 정답) NLB
```

```
11. 여러분은 규정 준수를 위해 최종 사용자에게 고정 IP 주소를 노출하여 
규제 기관에서 승인한 안정적인 방화벽 규칙을 작성하도록 하려 합니다. 
어떤 유형의 ELB를 선택하시겠습니까

틀린 정답) CLB
틀린 풀이) 규제 기관 이런 단어가 나와서 제일 고전적인 CLB라고 생각함.

	찐 정답) NLB
퀴즈 풀이) NLB에는 AZ당 하나의 고정 IP 주소가 있으며 탄력적 IP 주소를 연결할 수 있습니다. ALB및 CLB를 정적 DNS 이름으로 사용합니다.
```

```
12. 다음 중 애플리케이션 로드 밸런서 (ALB)에서 사용자 지정 애플리케이션 기반 쿠키를 
생성 시 쿠키 이름으로 사용할 수 있는 것은 무엇일까요?

정답) APPUSERC
풀이) AWS가 들어가는 보기가 3개 그리고 AWS가 없는 나머지 하나.. 정답은 나머지 하나 일듯 싶었음.
```

```
13. 여러분은 us-east-1의 EC2 인스턴스 세트에 트래픽을 분산하는 네트워크 로드 밸런서 (NLB)가 있습니다.
us-east-1b AZ에 2개의 EC2 인스턴스와 
us-east-1e AZ에 5개의 EC2 인스턴스가 있습니다. 
us-east-1b AZ의 EC2 인스턴스에서 CPU 사용률이 더 높다는 것을 확인했습니다. 
추가 조사 후 트래픽이 두 AZ에 균등하게 분산되어 있음을 알 수 있습니다. 이 문제를 어떻게 해결하시겠습니까?

정답) Cross-Zone Load Balancing
풀이) 강의를 열심히 들은 것 같음. Cross-Zone Load Balancing으로 AZ가 다르더라도 트래픽을 분산할 수 있음.
```

```
14. 애플리케이션 로드 밸런서 (ALB)와 네트워크 로드 밸런서 (NLB)의 
어떤 기능을 통해 하나의 리스너에서 여러 SSL 인증서를 로드할 수 있을까요?

정답) Server Name Indication (SNI)
풀이) 방금 강의를 들어서 풀 수 있었음. 
```

```
15. 여러분은 다음 호스트 이름을 기반으로 트래픽을 3개의 대상 그룹으로 
리디렉션하도록 구성된 애플리케이션 로드 밸런서 (ALB)가 있습니다: 
users.example.com, api.external.example.com 및 checkout.example.com. 
이러한 각 호스트 이름에 대해 HTTPS를 구성하려고 합니다. 
이 작업을 수행하려면 ALB를 어떻게 구성해야 할까요?

틀린 정답) HTTP에서 HTTPS로의 리디렉션 규칙 사용
틀린 풀이) HTTPS 단어 나와서 HTTP에서 HTTPS로 리디렉션 규칙 걸어줘야 한다고 생각. SSL 부분 강의 뒷 부분을 건너뛰었더니,,, 열심히 들어야 겠슴돠..

	찐 정답) Server Name Indication (SNI)
```

```
16. 여러분은 원하는 용량과 최대 용량을 모두 3으로 구성한 오토 스케일링 그룹 (ASG)에서 
관리하는 EC2 인스턴스 세트에서 호스팅되는 애플리케이션이 있습니다. 
또한 CPU 사용률이 60%에 도달하면 ASG를 스케일링하도록 구성된 CloudWatch 경보를 생성했습니다. 
여러분의 애플리케이션은 갑자기 엄청난 트래픽을 수신했고 현재 80% CPU 사용률로 실행되고 있습니다. 
이제 무슨 일이 일어날까요?

틀린 정답) 원하는 용량은 최대 4개, 최대 용량은 3개로 유지됩니다.
틀린 풀이) 최대 용량은 3개로 고정해놨기 때문에 안 늘어나지만 원하는 용량은 늘어날 것 같았음. -> 아무일도 일어나지 않을 수 있는 것 실습해봐야 겠슴돠..

	찐 정답) 아무일도 일어나지 않습니다.
퀴즈 풀이) 오토 스케일링 그룹 (ASG)은 scale-out 이벤트가 진행되는 동안 사용자가 구성한 최대 용량을 초과할 수 없습니다.
```

```
17. 여러분은 애플리케이션 로드 밸런서 (ALB)가 전면에 있는 오토 스케일링 그룹이 있습니다. 
ALB 상태 확인을 사용하도록 ASG를 구성했는데 하나의 EC2 인스턴스가 비정상으로 보고되었습니다. 
이 EC2 인스턴스는 어떻게 될까요?

틀린 정답) ASG는 EC2 인스턴스르 분리하고 계속 실행합니다.
틀린 풀이) 종료를 하게 되면 손해 아닌가...? 굳이 종료까지? 했는데 종료를 하네요.. 강좌.. 열심히 들어야 겠슴돠. 로드벨런스와 동작 방식이 조금 헷갈리네요..

	찐 정답) ASG는 EC2 인스턴스를 종료합니다.
퀴즈 풀이) 여러분은 EC2 상태 확인(기본값) 대신 애플리케이션 로드 밸런서 (ALB) 상태 확인을 기반으로 
EC2 인스턴스의 상태를 확인하도록 오토 스케일링 그룹을 구성할 수 있습니다. 
EC2 인스턴스가 ALB 상태 확인에 실패하면 비정상으로 표시되고 ASG가 새 EC2 인스턴스를 시작하는 동안 종료됩니다.
```

```
18. 여러분의 상사는 애플리케이션이 데이터베이스에 대해 수행하는 
분당 요청 수를 기반으로 오토 스케일링 그룹을 스케일링하도록 요청했습니다. 
어떻게 해야 할까요?

정답) CloudWatch 사용자 지정 지표를 생성한 다음 이 지표에 대한 CloudWatch 경보를 생성해 ASG를 스케일링합니다.
풀이) CloudWatch가 분당 요청 수를 수집하지는 않을 것 같고 상사가 시키는 업무면 무조건 해야 하니까 사용자 지정 지표를 생성하면 될 것 같았음.
```

```
19. 오토 스케일링 그룹 (ASG)에서 관리하는 EC2 인스턴스 플릿이 호스팅하는 웹 애플리케이션이 있습니다. 
여러분은 애플리케이션 로드 밸런서 (ALB)를 통해 이 애플리케이션을 노출하고 있습니다. 
EC2 인스턴스와 ALB는 모두 다음 CIDR 192.168.0.0/18을 사용하여 VPC에 배포됩니다. 
ALB만 포트 80에서 액세스할 수 있도록 EC2 인스턴스의 보안 그룹을 구성하려면 어떻게 해야 할까요?

정답) 포트 80 및 ALB의 보안 그룹을 소스로 사용하여 인바운드 규칙 추가
풀이) 로드 밸런스를 EC2에 사용할 때 로드 밸런스만 접근 할 수 있도록 인바운드 규칙을 추가하는 것이 좋음.
```

```
20. eu-west-2 리전에서 실행 중인 오토 스케일링 Configured가 있으며 
eu-west-2a 및 eu-west-2b 가용 영역 두 개를 생성하도록 구성되어 있습니다. 
현재 eu-west-2a에서 EC2 인스턴스 3개와 eu-west-2b에서 EC2 인스턴스 4개가 실행 중입니다. 
ASG가 곧 축소됩니다. 어떤 EC2 인스턴스가 종료될까요?

정답) 가장 오래된 런치 템플릿 버전이 있는 eu-west-2b의 EC2 인스턴스
풀이) 오 찍었는데 맞았슴돠. 좀 생각하고 찍었는데 AWS 성격 상 백퍼 균형을 맞출 거라 생각해서 2b AZ로 확싱했고, 오래된 것을 먼저 없애는게 효율적이라고 생각했슴돠.
오토 스케일링 그룹에 대한 기본 종료 정책 보고 오겠슴돠...
```

```
21. 애플리케이션은 애플리케이션 로드 밸런서 (ALB) 및 오토 스케일링 그룹과 함께 배포됩니다. 
현재 ASG를 수동으로 스케일링하고 EC2 인스턴스에 대한 평균 연결 수가 
약 1000개인지 확인하는 스케일링 정책을 정의하려고 합니다. 
어떤 스케일링 정책을 사용해야 할까요?

정답) 대상 추적 정책
풀이) ?
```

```
22. 오토 스케일링 그룹 (ASG)가 관리하는 EC2 인스턴스에서 호스팅되는 애플리케이션이 
갑자기 트래픽 급증을 수신하여 ASG가 스케일링되고 새 EC2 인스턴스가 시작되었습니다. 
트래픽은 지속적으로 증가하지만 ASG는 새 EC2 인스턴스를 즉시 시작하지 않고 5분 후에 시작합니다. 
이 동작이 가능한 원인은 무엇일까요?

정답) 쿨다운 기간
풀이) 백퍼 AWS 성격 상 쿨다운 기간을 줄 것이라 생각해 찍었슴돠.
퀴즈 풀이) 각 오토 스케일링 그룹에는 각 스케일링 활동 후 휴지 기간이 있습니다. 
이 기간 동안 ASG는 EC2 인스턴스를 시작하거나 종료하지 않습니다. 이는 메트릭이 안정화될 시간을 제공합니다. 휴지 기간의 기본값은 300초(5분)입니다.
```

```
23. 여러분의 회사에는 지난 달에 임의의 EC2 인스턴스가 갑자기 충돌한 오토 스케일링 그룹 (ASG)이 있습니다.
 ASG가 비정상 EC2 인스턴스를 종료하고 새 EC2 인스턴스로 교체할 때,
 EC2 인스턴스가 충돌하는 이유를 알아낼 수 없었습니다.
 문제를 해결하고 비정상 인스턴스가 ASG에 의해 종료되는 것을 방지하기 위해 어떻게 해야할까요?

정답) ASG 수명 주기 후크를 사용하여 문제 해결을 위해 종료 중 상태의 EC2 인스턴스를 일시 중지
풀이) 강의에서 배웠슴돠. 수명 주기 후크가 있다면 Lambda와 Logs를 요금을 내고 사용할 이유가 없음.
```