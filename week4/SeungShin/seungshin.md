# Udemy Practice Test 1: SAA

## IAM, 보안 관련

---

AWS 리소스에 대한 액세스를 제어하기 위한 서비스. 인증 및 인가에 사용
암호나 액세스 키를 공유하지 않고, 계정의 리소스 관리 및 사용

주요 키워드

| 키워드 |  |
| --- | --- |
| IAM 사용자 | AWS 와 상호작용하는 사람 또는 서비스 |
| IAM 역할 | IAM 사용자에 붙일 수 있는 특정 작업을 위한 권한 |
| 권한 경계 정책 | 권한 설정을 위해 고려할 수 있는 정책 중 하나.
https://docs.aws.amazon.com/ko_kr/IAM/latest/UserGuide/access_policies.html

IAM 사용자가 수행할 수 있는 자격 증명에 관련한 작업들의 최대 허용 범위를 설정하는 것. |
| 교차 계정 접근 | 서로 다른 두 계정에서 User 와 Role 을 접근하는 것.

ex) 
A 계정에서 Role 을 생성 및 B 계정에 추가하고, 
B 계정에서 그 Role 을 특정 유저에 추가

즉, Role 권한을 위임할 수 있음. |

### 문제

---

**팀의 새 개발자에게 DynamoDB의 전체 액세스 권한이 할당된 사건이 보고된 이후 한 IT 회사는 보안 모범 사례를 검토하려고 합니다. 개발자는 새로운 기능을 구축하는 동안 실수로 프로덕션 환경에서 몇 개의 테이블을 삭제했습니다.
이러한 사고가 다시 발생하지 않도록 이 문제를 해결하는 가장 효과적인 방법은 무엇일까요?**

1. 루트 사용자만 조직에서 전체 데이터베이스 엑세스 권한을 가져야 한다.
2. 조직의 모든 IAM 사용자에 대한 전체 데이터베이스 액세스를 제거한다.
3. 권한 경계를 사용하여 직원이 IAM 보안 주체에게 부여할 수 있는 최대 권한을 제어한다.
4. CTO 는 이러한 인시던트가 반복되지 않도록 각 새 개발자의 IAM 사용자에 대한 권한을 검토한다.

**한 조직에서 개발 환경의 사용자 집합으로 액세스 권한을 위임하여 다른 AWS 계정에서 관리되는 프로덕션 환경의 일부 리소스에 액세스할 수 있게 하려고 합니다.
다음 중 솔루션 아키텍으로서 어떤 단계를 권장하시겠습니까?**

- 프로덕션 환경의 리소스에 액세스하는 데 필요한 권한이 있는 새로운 IAM 역할을 생성합니다. 그런 다음 사용자는 프로덕션 환경에서 리소스에 액세스하는 동안 이 IAM 역할을 맡을 수 있습니다.
- 교차 계정(cross-account) 리소스에 액세스할 수 없습니다.
- 프로덕션 환경에 대한 새로운 IAM 사용자 자격 증명을 생성하고 해당 자격 증명을 개발 환경의 사용자 집합과 공유합니다.
- IAM 역할과 IAM 사용자는 교차 계정(cross-account) 액세스에 서로 바꿔서 사용할 수 있습니다.

## VPC 관련

---

### VPC ( Virtual Private Cloud )

AWS 리소스들을 둘러놓은 가상의 울타리 내 영역

### 주요 키워드

| 키워드 |  |
| --- | --- |
| Site-to-Site VPN | 서로 다른 VPC, 혹은 오프레미스 네트워크를 VPN 으로 연결하는 것
원격 네트워크 액세스를 위한 연결
인터넷 프로토콜 보안 IPsec VPN 연결 지원

VPN 연결 : 온프레미스 <> VPC 간 연결을 의미
고객 게이트웨이 : 
고객 게이트웨이 디바이스 : VPN 연결을 위해 클라이언트 사이드에 설치된 것
가상 프라이빗 게이트웨이 : VPN 연결을 위한 AWS 측 엔드포인트
전송 게이트웨이 : VPN 연결을 위한 AWS 측 허브 |
| NAT gateway | VPC 퍼블릭 서브넷 상 네트워크 주소 변환 ( NAT ) 용 구성요소
VPC 의 인스턴스 > 인터넷 혹은 다른 AWS 서비스 아웃바운드 허용
수평 스케일, 가용성 위험과 대역폭 제약 없음 |
| NAT 인스턴스 | VPC 퍼블릭 서브넷 상 네트워크 주소 변환 ( NAT ) 용 구성요소
VPC 의 인스턴스 > 인터넷 혹은 다른 AWS 서비스 아웃바운드 허용
NAT Gateway 가 권장됨 |
| 인터넷 게이트웨이 | VPC의 인스턴스와 인터넷 간의 통신을 허용하는 수평 스케일, 중복 및 고가용성 VPC 구성 요소 |
| AWS Direct Connect | VPC 간 가상 회선을 할당, 상호 간 라우팅이 가능하도록 구성하는 것. |
| VPC 엔드포인트 | VPC 내 서비스에 퍼블릭 IP 없이 비공개 연결할 수 있게끔하는 엔드포인트
별다른 VPN, NAT, Direct Connect 불필요.
 네트워크 아키텍쳐 간소화에 유용
1. 인터페이스 엔드포인트 : AWS PrivateLink 지원 서비스를 붙일 수 있는 엔드포인트
2. 게이트웨이 엔드포인트 : S3/DynamoDB 연결위한 private subnet 라우팅테이블기반 엔드포인트 |
| Transit Gateway | VPC 혹은 온프레미스 네트워크들의 상호 연결에 사용하는 전송 허브 |
| VPC 피어링 | 프라이빗 IPv4/6 주소를 사용, 두 VPC 간 트래픽 라우팅하는 연결
마치 동일한 네트워크 내에 있는 것처럼 서로 통신 |
| VPC 공유 | RAM ( Resuource Access Manager ) 의 일부
AWS Organiztions 동일 조직의 계정과 하나 이상의 서브넷 ( VPC 자체 X ) 을 공유
공유 서브넷에서 애플리케이션 CRUD 가능 ( 공유 및 중앙관리 ) |
| VPC 클라우드 허브 | 다수의 Site-to-Site 연결, 혹은 Direct Connect 연결에 대한 허브 VPC
- 이 때, 허브 외 다른 VPC 들을 스포크 VPC 라하고, 모든 통신은 HUB VPC 를 경유 |
| 보안 그룹 | VPC 내에서 동작하는 인스턴스 레벨 네트워크 보안 |
| 네트워크 ACL | VPC 내에서 동작하는 서브넷 레벨 네트워크 보안 |
| Bastion 서버 | 네트워크 내외부 사이 침입 차단 소프트웨어 등이 설치된 일종의 게이트 역할 서버 |
| 서브넷 라우팅 테이블 |  |

VPC 로의 트래픽 흐름

- 인터넷 GW or 가상 프라이빗 GW → VPC → 라우터 → 라우팅 테이블 → Network ACL → 서브넷 → 보안 그륩 → 인스턴스

### 문제

---

**회사의 엔지니어링 팀은 Amazon SQS를 사용하여 기본 애플리케이션 아키텍처의 구성 요소를 분리하려고 합니다. 그러나 팀은 공용 인터넷을 통해 SQS에 액세스하는 VPC 바인딩 구성 요소에 대해 우려하고 있습니다.
솔루션 아키텍트로서 다음 중 이 사용 사례를 해결하기 위해 어떤 솔루션을 권장하시겠습니까?**

1. 인터넷 게이트웨이를 사용하여 Amazon SQS 에 액세스
2. VPC 엔드포인트를 사용하여 Amazon SQS 에 액세스
3. NAT 인스턴스를 사용하여 Amazon SQS 에 액세스
4. VPN 연결을 사용하여 Amazon SQS 에 액세스

**회사의 인프라 팀은 리소스 격리를 위해 5개의 서로 다른 VPC(이 VPC를 A, B, C, D, E라고 함)를 유지 관리합니다. 팀은 변경된 조직 구조로 인해 모든 VPC를 함께 연결하려고 합니다. 이를 용이하게 하기 위해 팀은 중앙에 VPC A가 있는 허브 및 스포크 모델의 VPC A와 다른 모든 VPC 간에 VPC 피어링 연결을 설정했습니다. 그러나 여전히 모든 VPC 간의 연결을 설정하는 데 실패했습니다.
솔루션 아키텍트로서 다음 중 가장 리소스 효율적이고 스케일 가능한 솔루션으로 무엇을 권장하시겠습니까?**

- Transit gateway를 사용하여 VPC 상호 연결
- 인터넷 게이트웨이를 사용하여 VPC 상호 연결
- 모든 VPC 간에 VPC 피어링 연결 설정
- VPC 엔드포인트를 사용하여 VPC 상호 연결

**소매 회사는 IT 인프라를 관리하기 위해 AWS 클라우드를 사용합니다. 회사는 AWS 계정을 실행하고 EC2 인스턴스 및 RDS 데이터베이스와 같은 리소스를 사용하는 여러 부서를 관리하기 위해 “AWS 기관”을 설정했습니다. 이 회사는 높은 수준의 상호 연결이 필요한 애플리케이션을 사용하여 모든 부서에 중앙에서 관리되는 공유 VPC를 제공하려고 합니다.
솔루션 아키텍트로서 이 사용 사례를 촉진하기 위해 다음 중 어떤 옵션을 선택하시겠습니까?**

- VPC 공유를 사용하여 AWS Organizations의 동일한 상위 조직에 속한 다른 AWS 계정과 하나 이상의 서브넷을 공유합니다.
- VPC 피어링을 사용하여 AWS Organizations의 동일한 상위 조직에 속한 다른 AWS 계정과 하나 이상의 서브넷을 공유합니다.
- VPC 피어링을 사용하여 AWS Organizations의 동일한 상위 조직에 속한 다른 AWS 계정과 VPC를 공유합니다.
- VPC 공유를 사용하여 AWS Organizations의 동일한 상위 조직에 속한 다른 AWS 계정과 VPC를 공유합니다.

**매체 회사는 AWS VPC에 대한 AWS Direct Connect 연결을 사용하는 온프레미스 데이터 센터와 함께 로스앤젤레스에 본사를 두고 있습니다. 샌프란시스코와 마이애미에 위치한 지사는 Site-to-Site VPN 연결을 사용하여 AWS VPC에 연결합니다. 회사는 지사는 물론이고 지점 간에도 데이터를 주고받을 수 있는 솔루션을 찾고 있습니다.
솔루션 아키텍트로서 다음 AWS 서비스 중 이 사용 사례를 처리하는 것에 무엇이 좋을까요?**

- VPC 엔드포인트
- 소프트웨어 VPN
- VPN 클라우드허브
- VPC 피어링

**한 회사는 여러 EC2 인스턴스에서 액세스할 Amazon EFS 파일 시스템으로 비즈니스 크리티컬 데이터를 옮겼습니다.
다음 중 AWS 공인 솔루션스 아키텍트 어소시에이트로서 허용된 EC2 인스턴스만 EFS 파일 시스템에서 읽을 수 있도록 액세스 제어하도록 무엇을 권장합니까? (3개 선택)**

- [ ]  VPC 보안 그룹을 사용해 파일 시스템과 주고받는 네트워크 트래픽을 제어
- [ ]  EFS 액세스 포인트를 사용하여 애플리케이션 액세스를 관리
- [ ]  Amazon GuardDuty를 사용하여 EFS 파일 시스템에 대한 원치 않는 액세스를 억제
- [ ]  IAM 정책 루트 자격 증명을 설정하여 EFS 파일 시스템에 액세스하는 클라이언트를 제어 및 구성
- [ ]  파일 시스템에 IAM 정책을 부착해 필요한 권한으로 파일 시스템을 들어갈 수 있는 클라이언트를 제어
- [ ]  네트워크 ACL을 사용하여 Amazon EC2 인스턴스로 들어오고 나가는 네트워크 트래픽을 제어

**팀은 보안을 위해 인스턴스를 프라이빗 서브넷에 배치하기로 결정했습니다. 해당 서비스에 액세스하기 위해 VPC 엔드포인트를 배포할 계획입니다. 팀 구성원은 인터페이스 엔드포인트 대신 게이트웨이 엔드포인트가 필요한 단 두 가지 AWS 서비스에 대해 알고 싶습니다.
솔루션 아키텍트로서 다음 중 이 요구 사항에 대해 제안할 서비스는 무엇일까요? (2개 선택)**

- [ ]  Amazon Simple Notification Service (SNS)
- [ ]  Amazon Kinesis
- [ ]  Amazon S3
- [ ]  DynamoDB
- [ ]  Amazon Simple Queue Service (SQS)

**전자 상거래 회사는 온-프레미스 인프라에서 AWS 클라우드로 2계층 애플리케이션을 마이그레이션할 계획입니다. 회사의 엔지니어링 팀은 AWS 클라우드를 처음 사용하기 때문에 Amazon VPC 콘솔 마법사를 사용하여 공용 웹 서버와 개인 데이터베이스 서버가 있는 2계층 애플리케이션에 대한 네트워킹 구성을 설정할 계획입니다.
Amazon VPC 콘솔 마법사에서 지원하지 않는 구성을 찾을 수 있습니까?**

- 퍼블릭 서브넷만 있고 AWS Site-to-Site VPN 액세스 권한이 있는 VPC(정답)
- 단일 퍼블릭 서브넷이 있는 VPC
- 퍼블릭 및 프라이빗 서브넷이 있는 VPC(NAT)
- 퍼블릭 및 프라이빗 서브넷과 AWS Site-to-Site VPN 액세스가 있는 VPC

**소매 기관에서 일부 온-프레미스 데이터를 AWS 클라우드로 이동하고 있습니다. 조직의 DevOps 팀은 인터넷을 통해 원격 온-프레미스 네트워크와 Amazon VPC 간에 AWS Managed IPSec VPN 연결을 설정했습니다.
다음 중 IPSec VPN 연결에 대한 올바른 구성을 나타내는 것은 무엇일까요?**

- VPN의 AWS 측에 Virtual Private Gateway 생성 및 VPN의 온-프레미스 측에 고객 게이트웨이 생성
- VPN의 AWS 측과 VPN의 온-프레미스 측 모두에 고객 게이트웨이 생성
- VPN의 AWS 측과 VPN의 온-프레미스 측 모두에 Virtual Private Gateway 생성
- VPN의 온-프레미스 측에 Virtual Private Gateway 생성 및 VPN의 AWS 측에 고객 게이트웨이 생성